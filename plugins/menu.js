const config = require('../settings')
const os = require('os')
const { cmd, commands } = require('../lib/command')
const { getBuffer, getGroupAdmins, getRandom, h2k, isUrl, Json, runtime, sleep, fetchJson} = require('../lib/functions')

//====================MENU==================================
cmd({
    pattern: "menu",
    alias: ["allmenu","fullmenu"],use: '.menu2',
    desc: "menu the bot",
    category: "menu",
    react: "⚡",
    filename: __filename
}, 
async (conn, mek, m, { from, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply }) => {
    try {
        let dec = `╭━━━━∙⋆⋅⋆∙━ ─┉─ • ─┉─⊷

*⇆ ʜɪɪ ᴍʏ ᴅᴇᴀʀ ғʀɪᴇɴᴅ ⇆*

     *${pushname}*
     
╰━━━━∙⋆⋅⋆∙━ ─┉─ • ─┉─⊷
┏━━━━━━━━━━━━━━━━━━━━━━━━━━
      *ᴡᴇʟᴄᴏᴍᴇ ᴛᴏ ᴄʀᴅ ᴍᴅ_ᴠ1 ғᴜʟʟ ᴄᴏᴍᴍᴀɴᴅ ʟɪsᴛ*
┗━━━━━━━━━━━━━━━━━━━━━━━━━━

*ᴄʀᴇᴀᴛᴇᴅ ʙʏ ᴄʏʙᴇʀ ᴅᴜᴍɪʏʜ ᴏꜰᴄ 👨🏻‍💻*

*┌─〈 ᴄʀᴅ ᴍᴅ ʙᴏᴛ 〉─◆*
*│╭─────────────···▸*
*┴│▸*
*❖│▸* *ʀᴜɴᴛɪᴍᴇ* : ꜰᴜᴄᴋ ʏᴏᴜ 
*❖│▸* *ᴍᴏᴅᴇ* : *ᴘᴜʙʟɪᴄ*
*❖│▸* *ᴘʀᴇғɪx* : *.*
*❖│▸* *ɴᴀᴍᴇ ʙᴏᴛ* : *ᴄʀᴅ-ꜱᴏɴɢ-ᴅʟ*
*❖│▸* *ᴄʀᴇᴀᴛᴏʀ* : *ᴄʏʙᴇʀ ᴅᴜᴍɪʏʜ ᴏꜰᴄ*
*❖│▸* *ᴠᴇʀsɪᴏɴs* : *ᴠ.1.0.0*
*❖│▸* *ᴍᴇɴᴜ ᴄᴍᴅ* : *ᴍᴇɴᴜ ʟɪsᴛ*
*┬│▸*
*│╰────────────···▸▸*
*└──────────────···▸*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 DOWNLOAD-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ᴠɪᴅᴇᴏ <ɴᴀᴍᴇ>*
*┃◈┃• ᴠɪᴅᴇᴏ2 <ɴᴀᴍᴇ>*
*┃◈┃• ᴠɪᴅᴇᴏ3 <ɴᴀᴍᴇ>*
*┃◈┃• ᴠɪᴅᴇᴏ4 <ɴᴀᴍᴇ>*
*┃◈┃• ꜱᴏɴɢ <ɴᴀᴍᴇ>*
*┃◈┃• ꜱᴏɴɢ2 <ɴᴀᴍᴇ>*
*┃◈┃• ꜱᴏɴɢ3 <ɴᴀᴍᴇ>*
*┃◈┃• ꜱᴏɴɢ4 <ɴᴀᴍᴇ>*
*┃◈┃• ʏᴛꜱ <ɴᴀᴍᴇ>*
*┃◈┃• ʏᴛꜱ2 <ɴᴀᴍᴇ>*
*┃◈┃• ɪɢ <ʏᴏᴜʀ ʟɪɴᴋ>*
*┃◈┃• ᴛᴡɪᴛᴛᴇʀ <ʟɪɴᴋ>*
*┃◈┃• ᴍᴇᴅɪᴀꜰɪʀᴇ <ʟɪɴᴋ>*
*┃◈┃• ᴀᴘᴋ <ɴᴀᴍᴇ>*
*┃◈┃• ᴍᴏᴅ <ɴᴀᴍᴇ>*
*┃◈┃• ɢᴅʀɪᴠᴇ <ʟɪɴᴋ>*
*┃◈┃• ʀɪɴɢᴛᴏɴᴇ <ɴᴀᴍᴇ>*
*┃◈┃• ɪᴍɢ <ʟɪɴᴋ>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 GROUP-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ᴀᴅᴅ <ɴᴜᴍʙᴇʀ>*
*┃◈┃• ᴜᴘᴅᴀᴛᴇɢᴅᴇꜱᴄ <ᴍᴀꜱꜱᴇɢᴇ>*
*┃◈┃• ɢɴᴄ <ɴᴀᴍᴇ>*
*┃◈┃• ᴋɪᴄᴋ <ɴᴜᴍʙᴇʀ>*
*┃◈┃• ʟᴇᴀᴠᴇ <ʏᴇꜱ/ɴᴏ>*
*┃◈┃• ʟᴏᴄᴋɢᴄ <ʟᴏᴄᴋ>*
*┃◈┃• ᴍᴜᴛᴇ <ᴍᴜᴛᴇ>*
*┃◈┃• ᴏᴜᴛ <ᴋɪᴄᴋ>*
*┃◈┃• ʀᴇᴍᴏᴠᴇᴍᴇᴍʙᴇʀ <ᴇɴᴅ ɢʀᴏᴜᴘ>*
*┃◈┃• ʀᴇᴍᴏᴠᴇᴀᴅᴅᴍɪɴꜱ <ᴅᴇʟᴀᴅᴅᴍɪɴ>*
*┃◈┃• ʀᴇᴍᴏᴠᴇᴀʟʟ <ᴍᴇᴍʙᴇʀ>*
*┃◈┃• ᴜɴʟᴏᴄᴋ <ᴜɴʟᴏᴄᴋɢᴄ>*
*┃◈┃• ᴜɴᴍᴜᴛᴇ <ᴜɴᴍᴜᴛᴇ>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 MOVIE-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ꜰɪʀᴇᴍᴏᴠɪᴇ <ɴᴀᴍᴇ>*
*┃◈┃• ꜰɪʀᴇᴅʟ <ɴᴀᴍᴇ>*
*┃◈┃• ꜰɪʀᴇᴅʟᴍ <ɴᴀᴍᴇ>*
*┃◈┃• ᴄɪɴᴇꜱᴜʙᴢ <ɴᴀᴍᴇ>*
*┃◈┃• ᴄɪɴᴇꜱᴜʙᴢᴅʟ <ɴᴀᴍᴇ>*
*┃◈┃• ᴄɪɴᴇᴅʟ <ɴᴀᴍᴇ>*
*┃◈┃• ꜱɪɴʜᴀʟᴀ <ɴᴀᴍᴇ>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 MAIN-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ᴀʟɪᴠᴇ <ᴏɴʟɪɴᴇ>*
*┃◈┃• ᴍᴇɴᴜ <ɢᴇᴛ ᴍᴇɴᴜ>*
*┃◈┃• ᴘɪɴɢ <ꜱᴘᴇᴇᴅ>*
*┃◈┃• ʀᴇꜱᴛᴀʀᴛ <ʙᴏᴛ ᴏꜰꜰ>*
*┃◈┃• ᴊɪᴅ <ᴊɪᴅ1>*
*┃◈┃• ᴊɪᴅ2 <ᴊɪᴅ2>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 OWNER-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ꜱᴇᴛᴡᴀᴄʜᴀɴɴᴇʟ <ʟɪɴᴋ>*
*┃◈┃• ꜱᴇᴛᴏᴡɴᴇʀɴʙ <ɴᴜᴍʙᴇʀ>*
*┃◈┃• ꜱᴇᴛᴘʀᴇꜰɪx <ᴘʀᴇꜰɪx>*
*┃◈┃• ꜱᴇᴛʟᴏɢᴏ <ʟᴏɢᴏ ᴜʀʟ>*
*┃◈┃• ꜱᴇᴛꜰᴏᴏᴛᴇʀ <ᴍᴀꜱꜱᴇɢᴇ>*
*┃◈┃• ꜱᴇᴛᴊɪᴅ <ᴊɪᴅ>*
*┃◈┃• ᴏɴʟʏɢʀᴏᴜᴘ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴏɴʟʏᴍᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ꜰᴏ <ᴊɪᴅ>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 NEWS-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ʜɪʀᴜᴄʜᴇᴄᴋ*
*┃◈┃• ɴᴇᴡꜱꜱᴇɴᴅ <ɢʀᴏᴜᴘ>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

*♡ ︎•━━━━━━━━━ ☻︎ ━━━━━━━━━• ♡︎*
*╭════〘 SETTINGS-CMD 〙════┈⊷*
*┃◈╭───────────────·๏*
*┃◈┃• ɴᴇᴡꜱᴀᴄᴛɪᴠᴀᴛᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ꜱᴇᴛꜱᴛʀᴘᴍꜱɢ <ᴍᴀꜱꜱᴇɢᴇ>*
*┃◈┃• ᴍᴏᴅᴇ <ʙᴜᴛᴛᴏɴ/ɴᴏɴʙᴜᴛᴛᴏɴ>*
*┃◈┃• ꜱᴇᴛᴘʀᴇꜰɪx <ᴘʀᴇꜰɪx>*
*┃◈┃• ꜱᴇᴛʟᴏɢᴏ <ʟᴏɢᴏ ᴜʀʟ>*
*┃◈┃• ᴀᴜᴛᴏʀᴇᴘʟʏ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴏʀᴇᴀᴄᴛ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴏɴʟʏɢʀᴏᴜᴘ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴏɴʟʏᴍᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɴᴛɪᴅᴇʟᴇᴛᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɴᴛɪᴄᴀʟʟ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴡᴇʟᴄᴏᴍᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴍᴀᴛʜꜱᴀɪ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɪᴄʜᴀᴛʙᴏᴛ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɪɪᴍᴀɢᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴏɴʟʏɢʀᴏᴜᴘ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴅɪꜱᴀʙʟᴇᴘᴍ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏᴠᴏɪᴄᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏꜱᴛɪᴄᴋᴇʀ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏʙɪᴏ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏᴡᴇʟᴄᴏᴍᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɴᴛɪʙᴏᴛ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɴᴛɪʟɪɴᴋ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀɴᴛɪʙᴀᴅ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏꜱᴛᴀᴛᴜꜱ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏᴛʏᴘɪɴɢ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏʀᴇᴄᴏʀᴅɪɴɢ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏʀᴇᴀᴅ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴄᴍᴅʀᴇᴀᴅ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏʀᴇᴀᴄᴛ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀʟᴡᴀʏꜱᴏɴʟɪɴᴇ <ᴏɴ/ᴏꜰꜰ>*
*┃◈┃• ᴀᴜᴛᴏʙʟᴏᴄᴋ <ᴏɴ/ᴏꜰꜰ>*
*┃◈└──────────────┈⊷*
*┕──────────────────────❍*

> *ᴘᴏᴡᴇʀᴅ ʙʏ ᴄʏʙᴇʀ ʀᴇᴅ ᴅʀᴀɢᴏɴ ᴛᴍ*`;

        await conn.sendMessage(
            from,
            {
                image: { url: `https://i.ibb.co/KcyZcRMZ/IMG-20250507-WA0128.jpg` },
                caption: dec,
                contextInfo: {
                    mentionedJid: [m.sender],
                    forwardingScore: 999,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '120363398176388547@newsletter',
                        newsletterName: 'ᴄʏʙᴇʀ ʀᴇᴅ ᴅʀᴀɢᴏɴ ᴛᴍ',
                        serverMessageId: 143
                    }
                }
            },
            { quoted: mek }
        );
// Function to send menu video with timeout
        const sendMenuVideo = async () => {
            try {
                return await conn.sendMessage(
                    from,
                    {
                        video: { url: 'https://github.com/Chamijd/KHAN-DATA/raw/refs/heads/main/logo/VID-20250508-WA0031(1).mp4'' },
                        mimetype: 'video/mp4', // Correct property name
                        ptv: true // Set PTV to true for WhatsApp video message
                    },
                    { quoted: mek }
                );
            } catch (e) {
                console.log('Video send failed, continuing without it:', e);
                throw e; // Let the error propagate to fallback to image
            }
        };


        // Send audio
        await conn.sendMessage(from, {
            audio: { url: 'https://files.catbox.moe/6sdrvg.mp3' },
            mimetype: 'audio/mp4',
            ptt: true
        }, { quoted: mek });
        
    } catch (e) {
        console.log(e);
        reply(`${e}`);
    }
});
